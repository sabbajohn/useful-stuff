# Django Project Creator

Script automatizado para criar projetos Django completos com configura√ß√µes profissionais, compat√≠vel com macOS e Linux.

## üöÄ Caracter√≠sticas

- ‚úÖ **Interface Interativa**: Menu amig√°vel com `gum`
- üéØ **Tipos de Projeto**: API (DRF), Web tradicional, ou Fullstack
- üê≥ **Docker Ready**: Configura√ß√£o completa com Docker Compose
- üóÑÔ∏è **Multiple Databases**: SQLite, PostgreSQL
- üî¥ **Redis Integration**: Cache e sess√µes
- üå± **Celery Support**: Tasks ass√≠ncronas
- üì¶ **Git Integration**: Inicializa√ß√£o autom√°tica com .gitignore
- üìö **Documenta√ß√£o**: README e docs autom√°ticos
- üõ°Ô∏è **Security**: Configura√ß√µes de seguran√ßa inclu√≠das
- üé® **Code Quality**: Configura√ß√£o para black, flake8, pytest

## üìã Pr√©-requisitos

### macOS
```bash
# Homebrew (se n√£o tiver)
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# Depend√™ncias
brew install python gum

# Docker (opcional)
brew install --cask docker

# PostgreSQL (opcional)
brew install postgresql
```

### Linux (Ubuntu/Debian)
```bash
# Python e pip
sudo apt-get update
sudo apt-get install python3 python3-pip python3-venv

# gum
echo 'deb [trusted=yes] https://repo.charm.sh/apt/ /' | sudo tee /etc/apt/sources.list.d/charm.list
sudo apt update && sudo apt install gum

# Docker (opcional)
sudo apt install docker.io docker-compose

# PostgreSQL (opcional)
sudo apt install postgresql postgresql-contrib
```

## üõ†Ô∏è Instala√ß√£o

1. **Baixar o script:**
```bash
curl -O https://raw.githubusercontent.com/seu-repo/django-start.sh
# ou
wget https://raw.githubusercontent.com/seu-repo/django-start.sh
```

2. **Tornar execut√°vel:**
```bash
chmod +x django-start.sh
```

3. **Executar:**
```bash
./django-start.sh
```

## üì± Tipos de Projeto

### 1. üåê API (Django REST Framework)
- Django REST Framework configurado
- JWT Authentication
- API Documentation (Swagger/ReDoc)
- Serializers e ViewSets
- CORS configurado

**Apps criados:**
- `core` - Configura√ß√µes base
- `api` - Endpoints da API
- `users` - Gest√£o de usu√°rios

### 2. üìÑ Web Tradicional
- Templates Django
- Bootstrap 5 integrado
- Crispy Forms
- Sistema de p√°ginas

**Apps criados:**
- `core` - Configura√ß√µes base
- `users` - Gest√£o de usu√°rios
- `pages` - P√°ginas do site

### 3. üîÑ Fullstack
- API + Frontend em um projeto
- Django REST Framework
- Configura√ß√£o para SPA (React/Vue/Angular)
- Webpack Loader configurado

**Apps criados:**
- `core` - Configura√ß√µes base
- `api` - Endpoints da API
- `users` - Gest√£o de usu√°rios
- `frontend` - Interface do usu√°rio

## üê≥ Configura√ß√£o Docker

### Desenvolvimento
```bash
# Construir e executar
docker-compose up --build

# Em background
docker-compose up -d

# Ver logs
docker-compose logs -f
```

### Produ√ß√£o
```bash
# Usar arquivo de produ√ß√£o
docker-compose -f docker-compose.prod.yml up --build
```

## üóÑÔ∏è Bancos de Dados

### SQLite (Padr√£o)
- Sem configura√ß√£o adicional
- Ideal para desenvolvimento
- Arquivo `db.sqlite3`

### PostgreSQL
- Configura√ß√£o autom√°tica via Docker
- Vari√°veis de ambiente no `.env`
- Backup autom√°tico com volumes

## üî¥ Redis (Opcional)

### Funcionalidades
- **Cache**: Acelera√ß√£o de queries
- **Sess√µes**: Armazenamento em Redis
- **Celery Broker**: Para tasks ass√≠ncronas

### Configura√ß√£o
```bash
# Via Docker (autom√°tico)
docker-compose up

# Local (macOS)
brew install redis
brew services start redis

# Local (Linux)
sudo apt install redis-server
sudo systemctl start redis
```

## üå± Celery (Opcional)

### Recursos inclu√≠dos
- Worker configuration
- Beat scheduler
- Task monitoring
- Error handling

### Comandos √∫teis
```bash
# Worker
celery -A config worker -l info

# Beat (agendador)
celery -A config beat -l info

# Flower (monitoring)
pip install flower
celery -A config flower
```

## üìÅ Estrutura do Projeto

### API Project
```
meu_projeto/
‚îú‚îÄ‚îÄ src/                    # C√≥digo Django
‚îÇ   ‚îú‚îÄ‚îÄ config/            # Configura√ß√µes
‚îÇ   ‚îú‚îÄ‚îÄ core/              # App base
‚îÇ   ‚îú‚îÄ‚îÄ api/               # API endpoints
‚îÇ   ‚îú‚îÄ‚îÄ users/             # Usu√°rios
‚îÇ   ‚îî‚îÄ‚îÄ manage.py
‚îú‚îÄ‚îÄ venv/                  # Ambiente virtual
‚îú‚îÄ‚îÄ docker/                # Configura√ß√µes Docker
‚îú‚îÄ‚îÄ scripts/               # Scripts utilit√°rios
‚îú‚îÄ‚îÄ docs/                  # Documenta√ß√£o
‚îú‚îÄ‚îÄ requirements.txt       # Depend√™ncias
‚îú‚îÄ‚îÄ requirements-dev.txt   # Deps de desenvolvimento
‚îú‚îÄ‚îÄ .env                   # Vari√°veis de ambiente
‚îú‚îÄ‚îÄ docker-compose.yml     # Docker desenvolvimento
‚îú‚îÄ‚îÄ docker-compose.prod.yml # Docker produ√ß√£o
‚îî‚îÄ‚îÄ README.md
```

### Fullstack Project
```
meu_projeto/
‚îú‚îÄ‚îÄ backend/               # Django app
‚îú‚îÄ‚îÄ frontend/              # Frontend app
‚îú‚îÄ‚îÄ docker/
‚îÇ   ‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îî‚îÄ‚îÄ frontend/
‚îî‚îÄ‚îÄ ...
```

## ‚öôÔ∏è Configura√ß√µes Inclu√≠das

### Django Settings
- Configura√ß√£o de produ√ß√£o/desenvolvimento
- Security headers
- CORS configurado
- Static files com WhiteNoise
- Logging configurado
- Internationalization (pt-br)

### Code Quality
- **Black**: Formata√ß√£o de c√≥digo
- **Flake8**: Linting
- **isort**: Ordena√ß√£o de imports
- **mypy**: Type checking
- **pytest**: Testes

### CI/CD Ready
- GitHub Actions templates
- Docker multi-stage builds
- Environment variables
- Health checks

## üîß Comandos √öteis

### Desenvolvimento
```bash
# Ativar ambiente virtual
source venv/bin/activate

# Instalar depend√™ncias
pip install -r requirements-dev.txt

# Executar testes
python manage.py test
# ou com pytest
pytest

# Formata√ß√£o de c√≥digo
black .
isort .
flake8 .

# Migrations
python manage.py makemigrations
python manage.py migrate

# Superusu√°rio
python manage.py createsuperuser

# Servidor de desenvolvimento
python manage.py runserver
```

### Produ√ß√£o
```bash
# Coletar static files
python manage.py collectstatic

# Executar com Gunicorn
gunicorn config.wsgi:application --bind 0.0.0.0:8000
```

## üîê Vari√°veis de Ambiente

### Principais vari√°veis no `.env`:
```bash
# Django
DEBUG=True
SECRET_KEY=sua-chave-secreta
ALLOWED_HOSTS=localhost,127.0.0.1
DJANGO_PORT=8000

# Database
DATABASE_URL=postgresql://user:pass@localhost:5432/db

# Redis (se habilitado)
REDIS_URL=redis://localhost:6379/0

# Celery (se habilitado)
CELERY_BROKER_URL=redis://localhost:6379/0
```

## üö® Solu√ß√£o de Problemas

### Error: 'gum' n√£o encontrado
```bash
# macOS
brew install gum

# Linux
# Seguir instru√ß√µes em: https://github.com/charmbracelet/gum#installation
```

### Error: PostgreSQL connection
```bash
# Verificar se PostgreSQL est√° rodando
# Docker
docker-compose logs db

# Local
brew services list | grep postgres  # macOS
sudo systemctl status postgresql    # Linux
```

### Error: Redis connection
```bash
# Verificar Redis
docker-compose logs redis

# Testar conex√£o
redis-cli ping
```

### Error: Permission denied
```bash
# macOS - dar permiss√£o ao terminal
# System Preferences > Security & Privacy > Privacy > Full Disk Access

# Linux - verificar permiss√µes Docker
sudo usermod -aG docker $USER
```

## üéØ Exemplos de Uso

### Projeto API simples
```bash
./django-start.sh
# Escolher:
# - Nome: "blog_api"
# - Tipo: "API (DRF)"
# - PostgreSQL: N√£o
# - Redis: N√£o
# - Docker: Sim
# - Git: Sim
```

### Projeto Fullstack completo
```bash
./django-start.sh
# Escolher:
# - Nome: "ecommerce"
# - Tipo: "Fullstack"
# - PostgreSQL: Sim
# - Redis: Sim
# - Celery: Sim
# - Docker: Sim
# - Git: Sim
```

## ü§ù Contribui√ß√µes

Contribui√ß√µes s√£o bem-vindas! Especialmente para:
- Suporte a outros frameworks frontend
- Templates adicionais
- Integra√ß√µes com cloud providers
- Melhorias na documenta√ß√£o

## üìÑ Licen√ßa

MIT License - Livre para usar e modificar.

## üîó Links √öteis

- [Django Documentation](https://docs.djangoproject.com/)
- [Django REST Framework](https://www.django-rest-framework.org/)
- [Celery Documentation](https://docs.celeryproject.org/)
- [Docker Documentation](https://docs.docker.com/)
- [PostgreSQL Documentation](https://www.postgresql.org/docs/)
